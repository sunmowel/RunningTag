/*************************************************************************************************************
*                                              INCLUDE FILES                                                 *
*************************************************************************************************************/
#include <bsp.h>


/*************************************************************************************************************
*                                            FUNCTION PROTOTYPES                                             *
*************************************************************************************************************/
CPU_BOOL BspMeasure (CPU_INT32U *pulse)
{
    CPU_INT16U n;

    R_TAU0_Channel3_Start();
    
    /* Wait for Measure complete*/
    n = 0;
    while (R_TAU0_Channel3_Get_PulseWidth(pulse) == 0)
    {
        n++;
        if (n == BSP_MEASURE_WAIT)
        {
            R_TAU0_Channel3_Stop();
            return DEF_FALSE;
        }
        BspTimerDelayUS(20);
    }
    R_TAU0_Channel3_Stop();
    
    return DEF_TRUE;
}



/*************************************************************************************************************
*                                               MODULE END                                                   *
*************************************************************************************************************/